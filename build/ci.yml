trigger:
  - master

variables:
- group: Shared

stages:
  - stage: Build
    jobs:
      - template: build.yml
        parameters:
          aciPoolName: "pool1"
          hostedPoolName: "windows-latest"

  - stage: Deploy	
    jobs:	
      - template: deploy.yml	
        parameters:
          hostedPoolName: "windows-latest"
    condition: and(succeeded(), ne(variables['Build.Reason'], 'PullRequest'))